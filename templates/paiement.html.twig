{% extends 'base_template.html.twig' %}
{% block title %}{{constantes.application.website_name}} - Paiement {% endblock %}

{% block body %}

<form method="POST" action="index.php?controleur=livraison&methode=afficherResume">
    <input type="hidden" name="idAnnonce" value="{{ annonce.idAnnonce }}">
    <input type="hidden" name="ville" value="{{ ville }}">
    <input type="hidden" name="pays" value="{{ pays }}">
    <input type="hidden" name="adresse" value="{{ adresse }}">
    <input type="hidden" name="codePostal" value="{{ codePostal }}">
    <div class="row">
        <h2 class="form-title">Détails du paiement</h2>

        <!-- Paiement -->
        <div class="col-md-6">

            <div class="mb-4">
                <label class="form-label required">Numéro de la carte</label>
                <input type="text" name="numCarte" class="form-control" placeholder="1234 1234 1234 1234" required>
            </div>

            <div class="row mb-4">
                <div class="col-md-6">
                    <label class="form-label required">Date d'expiration</label>
                    <input type="text" name="dateExpiration" class="form-control" placeholder="MM/YY" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label required">Code de Sécurité</label>
                    <input type="text" name="codeSecurite" class="form-control" placeholder="CVC" required>
                </div>
            </div>

            <div class="mb-4">
                <label class="form-label required">Nom sur la carte</label>
                <input type="text" name="nomCarte" class="form-control" placeholder="Votre nom" required>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <button type="submit" class="btn btn-primary w-100 mt-3">
                    Payer
                    </button>
                </div>
                <div class="col-md-6">
                    <a href="index.php?controleur=livraison&methode=achat&id={{ annonce.idAnnonce }}"
                       class="btn btn-secondary w-100 mt-3">Annuler</a>
                </div>
            </div>
        </div>

        <!-- Récapitulatif -->
        <div class="col-md-6">
            <div class="bg-light rounded shadow-sm p-4">
                <h4 class="mb-3">Récapitulatif</h4>

                <div class="d-flex justify-content-between">
                    <span>Titre de l'annonce </span>
                    <strong>{{annonce.titre}}</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Jeu </span>
                    <strong>{{annonce.idJeu}}</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Prix de l'annonce</span>
                    <strong> {{ annonce.prix }} €</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Ville</span>
                    <strong> {{ville}}</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Code Postal</span>
                    <strong> {{codePostal}}</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Adresse</span>
                    <strong> {{adresse}}</strong>
                </div>
                <br>

                <div class="d-flex justify-content-between">
                    <span>Complément d'adresse</span>
                    <strong> {{complementAdresse}}</strong>
                </div>
            </div>
        </div>
    </div>
</form>

<div class="row mt-2">
		<div class="col mt-2">
			{% if erreurs is defined and erreurs|length > 0 %}
				<div class="alert alert-danger mt-3">
					<ul class="mb-0">
						{% for erreur in erreurs %}
							<li>{{ erreur }}</li>
						{% endfor %}
					</ul>
				</div>
			{% endif %}
{% endblock %}